(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=t(14),l=t(2),i=function(e){return r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:e.onNameChange,value:e.nameValue}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{onChange:e.onNumberChange,value:e.numberValue})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.person,t=e.handleRemoveButtonClick;return r.a.createElement("div",null,n.name," ",n.number,r.a.createElement("button",{onClick:function(){return t(n)}},"delete"))},d=function(e){var n=e.persons,t=e.filter,a=e.handleRemoveButtonClick;return(""===t.trim()?n:function(e,n){return e.filter(function(e){return e.name.toLowerCase().includes(n.trim().toLocaleLowerCase())})}(n,t)).map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(m,{person:e,handleRemoveButtonClick:a}))})},f=function(e){var n=e.onFilterChange,t=e.filter;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:n,value:t}))},s=t(3),b=t.n(s),h="/api/persons",v=function(){return b.a.get(h).then(function(e){return e.data})},g=function(e){return b.a.post(h,e).then(function(e){return e.data})},p=function(e){return b.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},E=function(e){return b.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},w=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n)},C=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n)},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),s=m[0],b=m[1],h=Object(a.useState)(""),j=Object(l.a)(h,2),O=j[0],S=j[1],k=Object(a.useState)(""),y=Object(l.a)(k,2),B=y[0],R=y[1],T=Object(a.useState)(null),N=Object(l.a)(T,2),V=N[0],D=N[1],I=Object(a.useState)(null),L=Object(l.a)(I,2),z=L[0],F=L[1];Object(a.useEffect)(function(){v().then(function(e){o(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(w,{message:V}),r.a.createElement(C,{message:z}),r.a.createElement(f,{onFilterChange:function(e){R(e.target.value)},filter:B}),r.a.createElement("h3",null,"add a new"),r.a.createElement(i,{onSubmit:function(e){if(e.preventDefault(),t.some(function(e){return e.name===s})){if(!window.confirm("".concat(s," is already added to phonebook, replace the old number\n      with a new one?")))return;var n=t.find(function(e){return e.name===s}),a=Object(c.a)({},n,{number:O});return p(a).then(function(e){o(t.map(function(n){return n.id!==e.id?n:e})),D("Updated ".concat(e.name)),setTimeout(function(){D(null)},5e3)}).catch(function(e){F("Information of ".concat(a.name," has already\n            been removed from server")),setTimeout(function(){F(null)},5e3),o(t.filter(function(e){return e.id!==a.id}))}),S(""),void b("")}g({name:s,number:O}).then(function(e){o(t.concat(e)),b(""),S(""),D("Added ".concat(e.name)),setTimeout(function(){D(null)},5e3)}).catch(function(e){F(e.response.data.error),setTimeout(function(){F(null)},5e3)}),S(""),b("")},onNameChange:function(e){b(e.target.value)},nameValue:s,onNumberChange:function(e){S(e.target.value)},numberValue:O}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(d,{persons:t,filter:B,handleRemoveButtonClick:function(e){window.confirm("Delete ".concat(e.name,"?"))&&E(e.id).then(o(t.filter(function(n){return n.id!==e.id}))).then(D("Deleted ".concat(e.name))).then(setTimeout(function(){D(null)},5e3)).catch(function(n){F("Information of ".concat(e.name," has already\n          been removed from server")),setTimeout(function(){F(null)},5e3)})}}))};u.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5cfcf0e4.chunk.js.map